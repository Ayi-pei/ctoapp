"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"3f16c3e68c89\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxJQUFVLElBQUksaUJBQWlCIiwic291cmNlcyI6WyJEOlxceGlhbmdtdVxcRWRnZS1GdW5jdGlvblxcY3RvYXBwXFxzcmNcXGFwcFxcZ2xvYmFscy5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIzZjE2YzNlNjhjODlcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/context/enhanced-system-settings-context.tsx":
/*!**********************************************************!*\
  !*** ./src/context/enhanced-system-settings-context.tsx ***!
  \**********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnhancedSystemSettingsProvider: () => (/* binding */ EnhancedSystemSettingsProvider),\n/* harmony export */   useEnhancedSystemSettings: () => (/* binding */ useEnhancedSystemSettings)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./src/types/index.ts\");\n/* harmony import */ var _simple_enhanced_logs_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simple-enhanced-logs-context */ \"(app-pages-browser)/./src/context/simple-enhanced-logs-context.tsx\");\n/* __next_internal_client_entry_do_not_use__ EnhancedSystemSettingsProvider,useEnhancedSystemSettings auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\nconst SETTINGS_STORAGE_KEY = \"tradeflow_system_settings_v5\";\n// 默认设置\nconst getDefaultPairSettings = ()=>({\n        isTradingHalted: false,\n        baseProfitRate: 0.85,\n        maxDailyVolume: 1000000,\n        priceFluctuationLimit: 0.1,\n        emergencyStop: false\n    });\nconst defaultRiskControlSettings = {\n    maxInterventionsPerDay: 10,\n    maxPriceDeviationGlobal: 0.2,\n    autoStopLossThreshold: 0.15,\n    alertThresholds: {\n        largeVolumeAlert: 100000,\n        rapidPriceChangeAlert: 0.05,\n        systemLoadAlert: 0.8\n    }\n};\nconst defaultSystemMonitoringSettings = {\n    enableRealTimeMonitoring: true,\n    logRetentionDays: 30,\n    performanceMetricsEnabled: true,\n    alertNotificationsEnabled: true,\n    autoBackupEnabled: true,\n    backupIntervalHours: 24\n};\nconst defaultMarketSettings = _types__WEBPACK_IMPORTED_MODULE_2__.availablePairs.reduce((acc, pair)=>{\n    acc[pair] = getDefaultPairSettings();\n    return acc;\n}, {});\nconst defaultEnhancedSystemSettings = {\n    depositAddresses: {\n        USDT: \"\",\n        ETH: \"\",\n        BTC: \"\",\n        USD: \"\"\n    },\n    contractTradingEnabled: true,\n    marketSettings: defaultMarketSettings,\n    marketInterventions: [],\n    riskControl: defaultRiskControlSettings,\n    systemMonitoring: defaultSystemMonitoringSettings,\n    systemVersion: \"2.0.0\"\n};\n// 增强的时间逻辑函数\nconst isTimeInRange = (currentTime, startTime, endTime)=>{\n    const currentMinutes = currentTime.getHours() * 60 + currentTime.getMinutes();\n    const [startHour, startMin] = startTime.split(\":\").map(Number);\n    const [endHour, endMin] = endTime.split(\":\").map(Number);\n    const startMinutes = startHour * 60 + startMin;\n    const endMinutes = endHour * 60 + endMin;\n    // 处理跨日情况 (例如: 23:00 - 01:00)\n    if (startMinutes > endMinutes) {\n        return currentMinutes >= startMinutes || currentMinutes <= endMinutes;\n    }\n    // 正常情况 (例如: 09:00 - 17:00)\n    return currentMinutes >= startMinutes && currentMinutes <= endMinutes;\n};\nconst isDateInRange = (currentDate, startDate, endDate)=>{\n    if (!startDate && !endDate) return true;\n    const current = currentDate.toISOString().split(\"T\")[0];\n    if (startDate && current < startDate) return false;\n    if (endDate && current > endDate) return false;\n    return true;\n};\nconst isRecurringActive = (currentDate, recurring)=>{\n    if (!recurring) return true;\n    const currentDay = currentDate.getDay(); // 0=Sunday, 1=Monday, etc.\n    switch(recurring.type){\n        case \"daily\":\n            return true; // 每日重复总是活跃\n        case \"weekly\":\n            return !recurring.days || recurring.days.includes(currentDay);\n        case \"monthly\":\n            // 简化的月度重复逻辑\n            const currentDayOfMonth = currentDate.getDate();\n            return !recurring.days || recurring.days.includes(currentDayOfMonth);\n        default:\n            return true;\n    }\n};\nconst EnhancedSystemSettingsContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction EnhancedSystemSettingsProvider(param) {\n    let { children } = param;\n    _s();\n    const { addLog } = (0,_simple_enhanced_logs_context__WEBPACK_IMPORTED_MODULE_3__.useSimpleEnhancedLogs)();\n    const [systemSettings, setSystemSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(defaultEnhancedSystemSettings);\n    const [isLoaded, setIsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // const { addAuditLog, addLog } = useEnhancedLogs(); // 临时注释避免循环依赖\n    // 加载设置\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EnhancedSystemSettingsProvider.useEffect\": ()=>{\n            try {\n                const storedSettings = localStorage.getItem(SETTINGS_STORAGE_KEY);\n                if (storedSettings) {\n                    const parsedSettings = JSON.parse(storedSettings);\n                    setSystemSettings({\n                        \"EnhancedSystemSettingsProvider.useEffect\": (prev)=>({\n                                ...defaultEnhancedSystemSettings,\n                                ...parsedSettings,\n                                marketSettings: {\n                                    ...defaultEnhancedSystemSettings.marketSettings,\n                                    ...parsedSettings.marketSettings || {}\n                                },\n                                depositAddresses: {\n                                    ...defaultEnhancedSystemSettings.depositAddresses,\n                                    ...parsedSettings.depositAddresses || {}\n                                },\n                                riskControl: {\n                                    ...defaultEnhancedSystemSettings.riskControl,\n                                    ...parsedSettings.riskControl || {}\n                                },\n                                systemMonitoring: {\n                                    ...defaultEnhancedSystemSettings.systemMonitoring,\n                                    ...parsedSettings.systemMonitoring || {}\n                                },\n                                marketInterventions: parsedSettings.marketInterventions || []\n                            })\n                    }[\"EnhancedSystemSettingsProvider.useEffect\"]);\n                }\n            } catch (error) {\n                console.error(\"Failed to load enhanced system settings from localStorage\", error);\n            }\n            setIsLoaded(true);\n        }\n    }[\"EnhancedSystemSettingsProvider.useEffect\"], []);\n    // 保存设置\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EnhancedSystemSettingsProvider.useEffect\": ()=>{\n            if (isLoaded) {\n                try {\n                    localStorage.setItem(SETTINGS_STORAGE_KEY, JSON.stringify(systemSettings));\n                } catch (error) {\n                    console.error(\"Failed to save enhanced system settings to localStorage\", error);\n                }\n            }\n        }\n    }[\"EnhancedSystemSettingsProvider.useEffect\"], [\n        systemSettings,\n        isLoaded\n    ]);\n    // 基础设置更新函数\n    const updateDepositAddress = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[updateDepositAddress]\": (asset, value)=>{\n            setSystemSettings({\n                \"EnhancedSystemSettingsProvider.useCallback[updateDepositAddress]\": (prevSettings)=>({\n                        ...prevSettings,\n                        depositAddresses: {\n                            ...prevSettings.depositAddresses,\n                            [asset]: value\n                        }\n                    })\n            }[\"EnhancedSystemSettingsProvider.useCallback[updateDepositAddress]\"]);\n            // 临时注释日志记录，避免循环依赖\n            console.log(\"Updated \".concat(asset, \" deposit address\"));\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[updateDepositAddress]\"], [\n        addLog\n    ]);\n    const updateSetting = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[updateSetting]\": (key, value)=>{\n            setSystemSettings({\n                \"EnhancedSystemSettingsProvider.useCallback[updateSetting]\": (prevSettings)=>({\n                        ...prevSettings,\n                        [key]: value\n                    })\n            }[\"EnhancedSystemSettingsProvider.useCallback[updateSetting]\"]);\n            // 临时注释日志记录，避免循环依赖\n            console.log(\"Updated system setting: \".concat(String(key)));\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[updateSetting]\"], [\n        addLog\n    ]);\n    const updatePairSettings = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[updatePairSettings]\": (pair, newSettings)=>{\n            setSystemSettings({\n                \"EnhancedSystemSettingsProvider.useCallback[updatePairSettings]\": (prev)=>({\n                        ...prev,\n                        marketSettings: {\n                            ...prev.marketSettings,\n                            [pair]: {\n                                ...prev.marketSettings[pair] || getDefaultPairSettings(),\n                                ...newSettings\n                            }\n                        }\n                    })\n            }[\"EnhancedSystemSettingsProvider.useCallback[updatePairSettings]\"]);\n            // 临时注释日志记录，避免循环依赖\n            console.log(\"Updated trading pair settings for \".concat(pair));\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[updatePairSettings]\"], [\n        addLog\n    ]);\n    const updateRiskControlSettings = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[updateRiskControlSettings]\": (newSettings)=>{\n            setSystemSettings({\n                \"EnhancedSystemSettingsProvider.useCallback[updateRiskControlSettings]\": (prev)=>({\n                        ...prev,\n                        riskControl: {\n                            ...prev.riskControl,\n                            ...newSettings\n                        }\n                    })\n            }[\"EnhancedSystemSettingsProvider.useCallback[updateRiskControlSettings]\"]);\n            // 临时注释日志记录，避免循环依赖\n            console.log(\"Updated risk control settings\");\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[updateRiskControlSettings]\"], [\n        addLog\n    ]);\n    const updateSystemMonitoringSettings = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[updateSystemMonitoringSettings]\": (newSettings)=>{\n            setSystemSettings({\n                \"EnhancedSystemSettingsProvider.useCallback[updateSystemMonitoringSettings]\": (prev)=>({\n                        ...prev,\n                        systemMonitoring: {\n                            ...prev.systemMonitoring,\n                            ...newSettings\n                        }\n                    })\n            }[\"EnhancedSystemSettingsProvider.useCallback[updateSystemMonitoringSettings]\"]);\n            // 临时注释日志记录，避免循环依赖\n            console.log(\"Updated system monitoring settings\");\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[updateSystemMonitoringSettings]\"], [\n        addLog\n    ]);\n    // 增强的干预管理\n    const addMarketIntervention = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[addMarketIntervention]\": (intervention)=>{\n            if (systemSettings.marketInterventions.length >= 10) {\n                throw new Error(\"Maximum number of interventions (10) reached\");\n            }\n            const newId = \"intervention-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n            const now = new Date().toISOString();\n            const newIntervention = {\n                id: newId,\n                tradingPair: \"BTC/USDT\",\n                startTime: \"10:00\",\n                endTime: \"11:00\",\n                minPrice: 110000,\n                maxPrice: 120000,\n                trend: \"random\",\n                priority: 5,\n                conflictResolution: \"override\",\n                isActive: false,\n                createdBy: \"admin\",\n                createdAt: now,\n                smoothTransition: true,\n                transitionDuration: 30000,\n                ...intervention\n            };\n            setSystemSettings({\n                \"EnhancedSystemSettingsProvider.useCallback[addMarketIntervention]\": (prev)=>({\n                        ...prev,\n                        marketInterventions: [\n                            ...prev.marketInterventions,\n                            newIntervention\n                        ]\n                    })\n            }[\"EnhancedSystemSettingsProvider.useCallback[addMarketIntervention]\"]);\n            // 临时注释日志记录，避免循环依赖\n            console.log(\"Created market intervention for \".concat(newIntervention.tradingPair));\n            return newId;\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[addMarketIntervention]\"], [\n        systemSettings.marketInterventions.length\n    ]);\n    const removeMarketIntervention = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[removeMarketIntervention]\": (id)=>{\n            const intervention = systemSettings.marketInterventions.find({\n                \"EnhancedSystemSettingsProvider.useCallback[removeMarketIntervention].intervention\": (i)=>i.id === id\n            }[\"EnhancedSystemSettingsProvider.useCallback[removeMarketIntervention].intervention\"]);\n            if (!intervention) return;\n            setSystemSettings({\n                \"EnhancedSystemSettingsProvider.useCallback[removeMarketIntervention]\": (prev)=>({\n                        ...prev,\n                        marketInterventions: prev.marketInterventions.filter({\n                            \"EnhancedSystemSettingsProvider.useCallback[removeMarketIntervention]\": (i)=>i.id !== id\n                        }[\"EnhancedSystemSettingsProvider.useCallback[removeMarketIntervention]\"])\n                    })\n            }[\"EnhancedSystemSettingsProvider.useCallback[removeMarketIntervention]\"]);\n            // 临时注释日志记录，避免循环依赖\n            console.log(\"Deleted market intervention for \".concat(intervention.tradingPair));\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[removeMarketIntervention]\"], [\n        systemSettings.marketInterventions,\n        addLog\n    ]);\n    const updateMarketIntervention = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[updateMarketIntervention]\": (id, updates)=>{\n            const intervention = systemSettings.marketInterventions.find({\n                \"EnhancedSystemSettingsProvider.useCallback[updateMarketIntervention].intervention\": (i)=>i.id === id\n            }[\"EnhancedSystemSettingsProvider.useCallback[updateMarketIntervention].intervention\"]);\n            if (!intervention) return;\n            setSystemSettings({\n                \"EnhancedSystemSettingsProvider.useCallback[updateMarketIntervention]\": (prev)=>({\n                        ...prev,\n                        marketInterventions: prev.marketInterventions.map({\n                            \"EnhancedSystemSettingsProvider.useCallback[updateMarketIntervention]\": (i)=>i.id === id ? {\n                                    ...i,\n                                    ...updates,\n                                    lastModifiedBy: \"admin\",\n                                    lastModifiedAt: new Date().toISOString()\n                                } : i\n                        }[\"EnhancedSystemSettingsProvider.useCallback[updateMarketIntervention]\"])\n                    })\n            }[\"EnhancedSystemSettingsProvider.useCallback[updateMarketIntervention]\"]);\n            // 临时注释日志记录，避免循环依赖\n            console.log(\"Updated market intervention for \".concat(intervention.tradingPair));\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[updateMarketIntervention]\"], [\n        systemSettings.marketInterventions,\n        addLog\n    ]);\n    const activateIntervention = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[activateIntervention]\": (id)=>{\n            updateMarketIntervention(id, {\n                isActive: true\n            });\n            addLog({\n                entity_type: \"market_intervention\",\n                entity_id: id,\n                action: \"activate\",\n                details: \"Activated market intervention\",\n                severity: \"critical\"\n            });\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[activateIntervention]\"], [\n        updateMarketIntervention,\n        addLog\n    ]);\n    const deactivateIntervention = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[deactivateIntervention]\": (id)=>{\n            updateMarketIntervention(id, {\n                isActive: false\n            });\n            addLog({\n                entity_type: \"market_intervention\",\n                entity_id: id,\n                action: \"deactivate\",\n                details: \"Deactivated market intervention\",\n                severity: \"high\"\n            });\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[deactivateIntervention]\"], [\n        updateMarketIntervention,\n        addLog\n    ]);\n    // 增强的时间逻辑验证\n    const isInterventionActiveNow = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[isInterventionActiveNow]\": (intervention)=>{\n            if (!intervention.isActive) return false;\n            const now = new Date();\n            // 检查日期范围\n            if (!isDateInRange(now, intervention.startDate, intervention.endDate)) return false;\n            // 检查时间范围\n            if (!isTimeInRange(now, intervention.startTime, intervention.endTime)) return false;\n            // 检查重复模式\n            if (!isRecurringActive(now, intervention.recurring)) return false;\n            return true;\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[isInterventionActiveNow]\"], []);\n    const getActiveInterventions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[getActiveInterventions]\": (tradingPair)=>{\n            let activeInterventions = systemSettings.marketInterventions.filter(isInterventionActiveNow);\n            if (tradingPair) {\n                activeInterventions = activeInterventions.filter({\n                    \"EnhancedSystemSettingsProvider.useCallback[getActiveInterventions]\": (i)=>i.tradingPair === tradingPair\n                }[\"EnhancedSystemSettingsProvider.useCallback[getActiveInterventions]\"]);\n            }\n            // 按优先级排序\n            return activeInterventions.sort({\n                \"EnhancedSystemSettingsProvider.useCallback[getActiveInterventions]\": (a, b)=>b.priority - a.priority\n            }[\"EnhancedSystemSettingsProvider.useCallback[getActiveInterventions]\"]);\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[getActiveInterventions]\"], [\n        systemSettings.marketInterventions,\n        isInterventionActiveNow\n    ]);\n    const resolveInterventionConflicts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[resolveInterventionConflicts]\": (interventions)=>{\n            if (interventions.length === 0) return null;\n            if (interventions.length === 1) return interventions[0];\n            // 按优先级排序\n            const sorted = interventions.sort({\n                \"EnhancedSystemSettingsProvider.useCallback[resolveInterventionConflicts].sorted\": (a, b)=>b.priority - a.priority\n            }[\"EnhancedSystemSettingsProvider.useCallback[resolveInterventionConflicts].sorted\"]);\n            const highest = sorted[0];\n            if (highest.conflictResolution === \"override\") {\n                return highest;\n            } else if (highest.conflictResolution === \"blend\") {\n                // 实现混合逻辑 - 这里简化为返回最高优先级\n                return highest;\n            }\n            return highest;\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[resolveInterventionConflicts]\"], []);\n    // 验证功能\n    const validateInterventionSettings = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[validateInterventionSettings]\": (intervention)=>{\n            const errors = [];\n            if (intervention.minPrice && intervention.maxPrice && intervention.minPrice >= intervention.maxPrice) {\n                errors.push(\"Minimum price must be less than maximum price\");\n            }\n            if (intervention.priority && (intervention.priority < 1 || intervention.priority > 10)) {\n                errors.push(\"Priority must be between 1 and 10\");\n            }\n            if (intervention.startTime && intervention.endTime) {\n                const [startHour, startMin] = intervention.startTime.split(\":\").map(Number);\n                const [endHour, endMin] = intervention.endTime.split(\":\").map(Number);\n                if (isNaN(startHour) || isNaN(startMin) || isNaN(endHour) || isNaN(endMin)) {\n                    errors.push(\"Invalid time format\");\n                }\n            }\n            if (intervention.maxPriceDeviation && intervention.maxPriceDeviation > systemSettings.riskControl.maxPriceDeviationGlobal) {\n                errors.push(\"Price deviation exceeds global limit of \".concat(systemSettings.riskControl.maxPriceDeviationGlobal * 100, \"%\"));\n            }\n            return {\n                valid: errors.length === 0,\n                errors\n            };\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[validateInterventionSettings]\"], [\n        systemSettings.riskControl.maxPriceDeviationGlobal\n    ]);\n    // 导入导出功能\n    const exportSettings = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[exportSettings]\": ()=>{\n            return JSON.stringify(systemSettings, null, 2);\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[exportSettings]\"], [\n        systemSettings\n    ]);\n    const importSettings = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[importSettings]\": (settingsJson)=>{\n            try {\n                const importedSettings = JSON.parse(settingsJson);\n                // 基本验证\n                if (!importedSettings.systemVersion) {\n                    return {\n                        success: false,\n                        error: \"Invalid settings format\"\n                    };\n                }\n                setSystemSettings({\n                    ...defaultEnhancedSystemSettings,\n                    ...importedSettings\n                });\n                addLog({\n                    entity_type: \"system_setting\",\n                    entity_id: \"import\",\n                    action: \"update\",\n                    details: \"Imported system settings\",\n                    severity: \"critical\"\n                });\n                return {\n                    success: true\n                };\n            } catch (error) {\n                return {\n                    success: false,\n                    error: \"Failed to parse settings JSON\"\n                };\n            }\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[importSettings]\"], [\n        addLog\n    ]);\n    // 备份功能\n    const createBackup = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[createBackup]\": ()=>{\n            const backupData = {\n                ...systemSettings,\n                backupTimestamp: new Date().toISOString()\n            };\n            localStorage.setItem(\"\".concat(SETTINGS_STORAGE_KEY, \"_backup\"), JSON.stringify(backupData));\n            setSystemSettings({\n                \"EnhancedSystemSettingsProvider.useCallback[createBackup]\": (prev)=>({\n                        ...prev,\n                        lastBackupTime: new Date().toISOString()\n                    })\n            }[\"EnhancedSystemSettingsProvider.useCallback[createBackup]\"]);\n            addLog({\n                entity_type: \"system_setting\",\n                entity_id: \"backup\",\n                action: \"create\",\n                details: \"Created system settings backup\",\n                severity: \"medium\"\n            });\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[createBackup]\"], [\n        systemSettings,\n        addLog\n    ]);\n    const restoreFromBackup = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EnhancedSystemSettingsProvider.useCallback[restoreFromBackup]\": (backupData)=>{\n            try {\n                const backup = JSON.parse(backupData);\n                if (!backup.systemVersion) {\n                    return {\n                        success: false,\n                        error: \"Invalid backup format\"\n                    };\n                }\n                setSystemSettings(backup);\n                addLog({\n                    entity_type: \"system_setting\",\n                    entity_id: \"restore\",\n                    action: \"update\",\n                    details: \"Restored system settings from backup\",\n                    severity: \"critical\"\n                });\n                return {\n                    success: true\n                };\n            } catch (error) {\n                return {\n                    success: false,\n                    error: \"Failed to restore from backup\"\n                };\n            }\n        }\n    }[\"EnhancedSystemSettingsProvider.useCallback[restoreFromBackup]\"], [\n        addLog\n    ]);\n    const value = {\n        systemSettings,\n        updateDepositAddress,\n        updateSetting,\n        updatePairSettings,\n        updateRiskControlSettings,\n        updateSystemMonitoringSettings,\n        addMarketIntervention,\n        removeMarketIntervention,\n        updateMarketIntervention,\n        activateIntervention,\n        deactivateIntervention,\n        isInterventionActiveNow,\n        getActiveInterventions,\n        resolveInterventionConflicts,\n        validateInterventionSettings,\n        exportSettings,\n        importSettings,\n        createBackup,\n        restoreFromBackup\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(EnhancedSystemSettingsContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"D:\\\\xiangmu\\\\Edge-Function\\\\ctoapp\\\\src\\\\context\\\\enhanced-system-settings-context.tsx\",\n        lineNumber: 793,\n        columnNumber: 5\n    }, this);\n}\n_s(EnhancedSystemSettingsProvider, \"vmN4U4L9M8pjdQ3pRyf6HxW77uU=\", false, function() {\n    return [\n        _simple_enhanced_logs_context__WEBPACK_IMPORTED_MODULE_3__.useSimpleEnhancedLogs\n    ];\n});\n_c = EnhancedSystemSettingsProvider;\nfunction useEnhancedSystemSettings() {\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(EnhancedSystemSettingsContext);\n    if (context === undefined) {\n        throw new Error(\"useEnhancedSystemSettings must be used within an EnhancedSystemSettingsProvider\");\n    }\n    return context;\n}\n_s1(useEnhancedSystemSettings, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"EnhancedSystemSettingsProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb250ZXh0L2VuaGFuY2VkLXN5c3RlbS1zZXR0aW5ncy1jb250ZXh0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFTZTtBQUMwQjtBQUM4QjtBQUV2RSxNQUFNUSx1QkFBdUI7QUFvSjdCLE9BQU87QUFDUCxNQUFNQyx5QkFBeUIsSUFBb0M7UUFDakVDLGlCQUFpQjtRQUNqQkMsZ0JBQWdCO1FBQ2hCQyxnQkFBZ0I7UUFDaEJDLHVCQUF1QjtRQUN2QkMsZUFBZTtJQUNqQjtBQUVBLE1BQU1DLDZCQUFrRDtJQUN0REMsd0JBQXdCO0lBQ3hCQyx5QkFBeUI7SUFDekJDLHVCQUF1QjtJQUN2QkMsaUJBQWlCO1FBQ2ZDLGtCQUFrQjtRQUNsQkMsdUJBQXVCO1FBQ3ZCQyxpQkFBaUI7SUFDbkI7QUFDRjtBQUVBLE1BQU1DLGtDQUE0RDtJQUNoRUMsMEJBQTBCO0lBQzFCQyxrQkFBa0I7SUFDbEJDLDJCQUEyQjtJQUMzQkMsMkJBQTJCO0lBQzNCQyxtQkFBbUI7SUFDbkJDLHFCQUFxQjtBQUN2QjtBQUVBLE1BQU1DLHdCQUNKeEIsa0RBQWNBLENBQUN5QixNQUFNLENBQUMsQ0FBQ0MsS0FBS0M7SUFDMUJELEdBQUcsQ0FBQ0MsS0FBSyxHQUFHeEI7SUFDWixPQUFPdUI7QUFDVCxHQUFHLENBQUM7QUFFTixNQUFNRSxnQ0FBd0Q7SUFDNURDLGtCQUFrQjtRQUNoQkMsTUFBTTtRQUNOQyxLQUFLO1FBQ0xDLEtBQUs7UUFDTEMsS0FBSztJQUNQO0lBQ0FDLHdCQUF3QjtJQUN4QkMsZ0JBQWdCWDtJQUNoQlkscUJBQXFCLEVBQUU7SUFDdkJDLGFBQWE1QjtJQUNiNkIsa0JBQWtCckI7SUFDbEJzQixlQUFlO0FBQ2pCO0FBRUEsWUFBWTtBQUNaLE1BQU1DLGdCQUFnQixDQUNwQkMsYUFDQUMsV0FDQUM7SUFFQSxNQUFNQyxpQkFBaUJILFlBQVlJLFFBQVEsS0FBSyxLQUFLSixZQUFZSyxVQUFVO0lBQzNFLE1BQU0sQ0FB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c3JjXFxjb250ZXh0XFxlbmhhbmNlZC1zeXN0ZW0tc2V0dGluZ3MtY29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwge1xuICBjcmVhdGVDb250ZXh0LFxuICB1c2VDb250ZXh0LFxuICB1c2VTdGF0ZSxcbiAgdXNlRWZmZWN0LFxuICBSZWFjdE5vZGUsXG4gIHVzZUNhbGxiYWNrLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGF2YWlsYWJsZVBhaXJzIH0gZnJvbSBcIkAvdHlwZXNcIjtcbmltcG9ydCB7IHVzZVNpbXBsZUVuaGFuY2VkTG9ncyB9IGZyb20gXCIuL3NpbXBsZS1lbmhhbmNlZC1sb2dzLWNvbnRleHRcIjtcblxuY29uc3QgU0VUVElOR1NfU1RPUkFHRV9LRVkgPSBcInRyYWRlZmxvd19zeXN0ZW1fc2V0dGluZ3NfdjVcIjtcblxuLy8g5aKe5by655qE5Lqk5piT5a+56K6+572uXG5leHBvcnQgdHlwZSBFbmhhbmNlZFRyYWRpbmdQYWlyU2V0dGluZ3MgPSB7XG4gIGlzVHJhZGluZ0hhbHRlZDogYm9vbGVhbjtcbiAgYmFzZVByb2ZpdFJhdGU6IG51bWJlcjtcbiAgbWF4RGFpbHlWb2x1bWU/OiBudW1iZXI7XG4gIHByaWNlRmx1Y3R1YXRpb25MaW1pdD86IG51bWJlcjsgLy8g5Lu35qC85rOi5Yqo6ZmQ5Yi255m+5YiG5q+UXG4gIGVtZXJnZW5jeVN0b3A/OiBib29sZWFuOyAvLyDntKfmgKXlgZzmraLlvIDlhbNcbn07XG5cbi8vIOWinuW8uueahOW4guWcuuW5sumihOinhOWImVxuZXhwb3J0IHR5cGUgRW5oYW5jZWRNYXJrZXRJbnRlcnZlbnRpb24gPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRyYWRpbmdQYWlyOiBzdHJpbmc7XG4gIHN0YXJ0VGltZTogc3RyaW5nOyAvLyBISDpNTVxuICBlbmRUaW1lOiBzdHJpbmc7IC8vIEhIOk1NXG4gIHN0YXJ0RGF0ZT86IHN0cmluZzsgLy8gWVlZWS1NTS1ERFxuICBlbmREYXRlPzogc3RyaW5nOyAvLyBZWVlZLU1NLUREXG4gIG1pblByaWNlOiBudW1iZXI7XG4gIG1heFByaWNlOiBudW1iZXI7XG4gIHRyZW5kOiBcInVwXCIgfCBcImRvd25cIiB8IFwicmFuZG9tXCI7XG4gIHByaW9yaXR5OiBudW1iZXI7IC8vIDEtMTAsIOaVsOWtl+i2iuWkp+S8mOWFiOe6p+i2iumrmFxuICBjb25mbGljdFJlc29sdXRpb246IFwib3ZlcnJpZGVcIiB8IFwiYmxlbmRcIiB8IFwiaWdub3JlXCI7XG4gIHRpbWV6b25lPzogc3RyaW5nO1xuICByZWN1cnJpbmc/OiB7XG4gICAgdHlwZTogXCJkYWlseVwiIHwgXCJ3ZWVrbHlcIiB8IFwibW9udGhseVwiO1xuICAgIGRheXM/OiBudW1iZXJbXTsgLy8gMD1TdW5kYXksIDE9TW9uZGF5LCBldGMuXG4gICAgaW50ZXJ2YWw/OiBudW1iZXI7IC8vIOavj07lpKkv5ZGoL+aciOmHjeWkjeS4gOasoVxuICB9O1xuICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgY3JlYXRlZEJ5OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICBsYXN0TW9kaWZpZWRCeT86IHN0cmluZztcbiAgbGFzdE1vZGlmaWVkQXQ/OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBtYXhQcmljZURldmlhdGlvbj86IG51bWJlcjsgLy8g5pyA5aSn5YWB6K645Lu35qC85YGP5beuXG4gIHNtb290aFRyYW5zaXRpb24/OiBib29sZWFuOyAvLyDmmK/lkKblkK/nlKjlubPmu5Hov4fmuKFcbiAgdHJhbnNpdGlvbkR1cmF0aW9uPzogbnVtYmVyOyAvLyDov4fmuKHmjIHnu63ml7bpl7TvvIjmr6vnp5LvvIlcbn07XG5cbi8vIOmjjumZqeaOp+WItuiuvue9rlxuZXhwb3J0IHR5cGUgUmlza0NvbnRyb2xTZXR0aW5ncyA9IHtcbiAgbWF4SW50ZXJ2ZW50aW9uc1BlckRheTogbnVtYmVyO1xuICBtYXhQcmljZURldmlhdGlvbkdsb2JhbDogbnVtYmVyOyAvLyDlhajlsYDmnIDlpKfku7fmoLzlgY/lt65cbiAgYXV0b1N0b3BMb3NzVGhyZXNob2xkOiBudW1iZXI7IC8vIOiHquWKqOatouaNn+mYiOWAvFxuICBlbWVyZ2VuY3lDb250YWN0RW1haWw/OiBzdHJpbmc7XG4gIGFsZXJ0VGhyZXNob2xkczoge1xuICAgIGxhcmdlVm9sdW1lQWxlcnQ6IG51bWJlcjtcbiAgICByYXBpZFByaWNlQ2hhbmdlQWxlcnQ6IG51bWJlcjtcbiAgICBzeXN0ZW1Mb2FkQWxlcnQ6IG51bWJlcjtcbiAgfTtcbn07XG5cbi8vIOezu+e7n+ebkeaOp+iuvue9rlxuZXhwb3J0IHR5cGUgU3lzdGVtTW9uaXRvcmluZ1NldHRpbmdzID0ge1xuICBlbmFibGVSZWFsVGltZU1vbml0b3Jpbmc6IGJvb2xlYW47XG4gIGxvZ1JldGVudGlvbkRheXM6IG51bWJlcjtcbiAgcGVyZm9ybWFuY2VNZXRyaWNzRW5hYmxlZDogYm9vbGVhbjtcbiAgYWxlcnROb3RpZmljYXRpb25zRW5hYmxlZDogYm9vbGVhbjtcbiAgYXV0b0JhY2t1cEVuYWJsZWQ6IGJvb2xlYW47XG4gIGJhY2t1cEludGVydmFsSG91cnM6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIEVuaGFuY2VkU3lzdGVtU2V0dGluZ3MgPSB7XG4gIGRlcG9zaXRBZGRyZXNzZXM6IHtcbiAgICBVU0RUOiBzdHJpbmc7XG4gICAgRVRIOiBzdHJpbmc7XG4gICAgQlRDOiBzdHJpbmc7XG4gICAgVVNEOiBzdHJpbmc7XG4gIH07XG4gIGNvbnRyYWN0VHJhZGluZ0VuYWJsZWQ6IGJvb2xlYW47XG4gIG1hcmtldFNldHRpbmdzOiB7IFtrZXk6IHN0cmluZ106IEVuaGFuY2VkVHJhZGluZ1BhaXJTZXR0aW5ncyB9O1xuICBtYXJrZXRJbnRlcnZlbnRpb25zOiBFbmhhbmNlZE1hcmtldEludGVydmVudGlvbltdO1xuICByaXNrQ29udHJvbDogUmlza0NvbnRyb2xTZXR0aW5ncztcbiAgc3lzdGVtTW9uaXRvcmluZzogU3lzdGVtTW9uaXRvcmluZ1NldHRpbmdzO1xuICBsYXN0QmFja3VwVGltZT86IHN0cmluZztcbiAgc3lzdGVtVmVyc2lvbjogc3RyaW5nO1xufTtcblxuaW50ZXJmYWNlIEVuaGFuY2VkU3lzdGVtU2V0dGluZ3NDb250ZXh0VHlwZSB7XG4gIHN5c3RlbVNldHRpbmdzOiBFbmhhbmNlZFN5c3RlbVNldHRpbmdzO1xuICB1cGRhdGVEZXBvc2l0QWRkcmVzczogKFxuICAgIGFzc2V0OiBrZXlvZiBFbmhhbmNlZFN5c3RlbVNldHRpbmdzW1wiZGVwb3NpdEFkZHJlc3Nlc1wiXSxcbiAgICB2YWx1ZTogc3RyaW5nXG4gICkgPT4gdm9pZDtcbiAgdXBkYXRlU2V0dGluZzogPFxuICAgIEsgZXh0ZW5kcyBrZXlvZiBPbWl0PFxuICAgICAgRW5oYW5jZWRTeXN0ZW1TZXR0aW5ncyxcbiAgICAgIHwgXCJtYXJrZXRTZXR0aW5nc1wiXG4gICAgICB8IFwibWFya2V0SW50ZXJ2ZW50aW9uc1wiXG4gICAgICB8IFwicmlza0NvbnRyb2xcIlxuICAgICAgfCBcInN5c3RlbU1vbml0b3JpbmdcIlxuICAgID5cbiAgPihcbiAgICBrZXk6IEssXG4gICAgdmFsdWU6IEVuaGFuY2VkU3lzdGVtU2V0dGluZ3NbS11cbiAgKSA9PiB2b2lkO1xuICB1cGRhdGVQYWlyU2V0dGluZ3M6IChcbiAgICBwYWlyOiBzdHJpbmcsXG4gICAgbmV3U2V0dGluZ3M6IFBhcnRpYWw8RW5oYW5jZWRUcmFkaW5nUGFpclNldHRpbmdzPlxuICApID0+IHZvaWQ7XG4gIHVwZGF0ZVJpc2tDb250cm9sU2V0dGluZ3M6IChcbiAgICBuZXdTZXR0aW5nczogUGFydGlhbDxSaXNrQ29udHJvbFNldHRpbmdzPlxuICApID0+IHZvaWQ7XG4gIHVwZGF0ZVN5c3RlbU1vbml0b3JpbmdTZXR0aW5nczogKFxuICAgIG5ld1NldHRpbmdzOiBQYXJ0aWFsPFN5c3RlbU1vbml0b3JpbmdTZXR0aW5ncz5cbiAgKSA9PiB2b2lkO1xuXG4gIC8vIOWinuW8uueahOW5sumihOeuoeeQhuWKn+iDvVxuICBhZGRNYXJrZXRJbnRlcnZlbnRpb246IChcbiAgICBpbnRlcnZlbnRpb24/OiBQYXJ0aWFsPEVuaGFuY2VkTWFya2V0SW50ZXJ2ZW50aW9uPlxuICApID0+IHN0cmluZztcbiAgcmVtb3ZlTWFya2V0SW50ZXJ2ZW50aW9uOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdXBkYXRlTWFya2V0SW50ZXJ2ZW50aW9uOiAoXG4gICAgaWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEVuaGFuY2VkTWFya2V0SW50ZXJ2ZW50aW9uPlxuICApID0+IHZvaWQ7XG4gIGFjdGl2YXRlSW50ZXJ2ZW50aW9uOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgZGVhY3RpdmF0ZUludGVydmVudGlvbjogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgLy8g5pe26Ze06YC76L6R6aqM6K+BXG4gIGlzSW50ZXJ2ZW50aW9uQWN0aXZlTm93OiAoXG4gICAgaW50ZXJ2ZW50aW9uOiBFbmhhbmNlZE1hcmtldEludGVydmVudGlvblxuICApID0+IGJvb2xlYW47XG4gIGdldEFjdGl2ZUludGVydmVudGlvbnM6IChcbiAgICB0cmFkaW5nUGFpcj86IHN0cmluZ1xuICApID0+IEVuaGFuY2VkTWFya2V0SW50ZXJ2ZW50aW9uW107XG4gIHJlc29sdmVJbnRlcnZlbnRpb25Db25mbGljdHM6IChcbiAgICBpbnRlcnZlbnRpb25zOiBFbmhhbmNlZE1hcmtldEludGVydmVudGlvbltdXG4gICkgPT4gRW5oYW5jZWRNYXJrZXRJbnRlcnZlbnRpb24gfCBudWxsO1xuXG4gIC8vIOmqjOivgeWSjOWuieWFqFxuICB2YWxpZGF0ZUludGVydmVudGlvblNldHRpbmdzOiAoXG4gICAgaW50ZXJ2ZW50aW9uOiBQYXJ0aWFsPEVuaGFuY2VkTWFya2V0SW50ZXJ2ZW50aW9uPlxuICApID0+IHsgdmFsaWQ6IGJvb2xlYW47IGVycm9yczogc3RyaW5nW10gfTtcbiAgZXhwb3J0U2V0dGluZ3M6ICgpID0+IHN0cmluZztcbiAgaW1wb3J0U2V0dGluZ3M6IChzZXR0aW5nc0pzb246IHN0cmluZykgPT4ge1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgZXJyb3I/OiBzdHJpbmc7XG4gIH07XG4gIGNyZWF0ZUJhY2t1cDogKCkgPT4gdm9pZDtcbiAgcmVzdG9yZUZyb21CYWNrdXA6IChiYWNrdXBEYXRhOiBzdHJpbmcpID0+IHtcbiAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgIGVycm9yPzogc3RyaW5nO1xuICB9O1xufVxuXG4vLyDpu5jorqTorr7nva5cbmNvbnN0IGdldERlZmF1bHRQYWlyU2V0dGluZ3MgPSAoKTogRW5oYW5jZWRUcmFkaW5nUGFpclNldHRpbmdzID0+ICh7XG4gIGlzVHJhZGluZ0hhbHRlZDogZmFsc2UsXG4gIGJhc2VQcm9maXRSYXRlOiAwLjg1LFxuICBtYXhEYWlseVZvbHVtZTogMTAwMDAwMCxcbiAgcHJpY2VGbHVjdHVhdGlvbkxpbWl0OiAwLjEsXG4gIGVtZXJnZW5jeVN0b3A6IGZhbHNlLFxufSk7XG5cbmNvbnN0IGRlZmF1bHRSaXNrQ29udHJvbFNldHRpbmdzOiBSaXNrQ29udHJvbFNldHRpbmdzID0ge1xuICBtYXhJbnRlcnZlbnRpb25zUGVyRGF5OiAxMCxcbiAgbWF4UHJpY2VEZXZpYXRpb25HbG9iYWw6IDAuMixcbiAgYXV0b1N0b3BMb3NzVGhyZXNob2xkOiAwLjE1LFxuICBhbGVydFRocmVzaG9sZHM6IHtcbiAgICBsYXJnZVZvbHVtZUFsZXJ0OiAxMDAwMDAsXG4gICAgcmFwaWRQcmljZUNoYW5nZUFsZXJ0OiAwLjA1LFxuICAgIHN5c3RlbUxvYWRBbGVydDogMC44LFxuICB9LFxufTtcblxuY29uc3QgZGVmYXVsdFN5c3RlbU1vbml0b3JpbmdTZXR0aW5nczogU3lzdGVtTW9uaXRvcmluZ1NldHRpbmdzID0ge1xuICBlbmFibGVSZWFsVGltZU1vbml0b3Jpbmc6IHRydWUsXG4gIGxvZ1JldGVudGlvbkRheXM6IDMwLFxuICBwZXJmb3JtYW5jZU1ldHJpY3NFbmFibGVkOiB0cnVlLFxuICBhbGVydE5vdGlmaWNhdGlvbnNFbmFibGVkOiB0cnVlLFxuICBhdXRvQmFja3VwRW5hYmxlZDogdHJ1ZSxcbiAgYmFja3VwSW50ZXJ2YWxIb3VyczogMjQsXG59O1xuXG5jb25zdCBkZWZhdWx0TWFya2V0U2V0dGluZ3M6IHsgW2tleTogc3RyaW5nXTogRW5oYW5jZWRUcmFkaW5nUGFpclNldHRpbmdzIH0gPVxuICBhdmFpbGFibGVQYWlycy5yZWR1Y2UoKGFjYywgcGFpcikgPT4ge1xuICAgIGFjY1twYWlyXSA9IGdldERlZmF1bHRQYWlyU2V0dGluZ3MoKTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSBhcyB7IFtrZXk6IHN0cmluZ106IEVuaGFuY2VkVHJhZGluZ1BhaXJTZXR0aW5ncyB9KTtcblxuY29uc3QgZGVmYXVsdEVuaGFuY2VkU3lzdGVtU2V0dGluZ3M6IEVuaGFuY2VkU3lzdGVtU2V0dGluZ3MgPSB7XG4gIGRlcG9zaXRBZGRyZXNzZXM6IHtcbiAgICBVU0RUOiBcIlwiLFxuICAgIEVUSDogXCJcIixcbiAgICBCVEM6IFwiXCIsXG4gICAgVVNEOiBcIlwiLFxuICB9LFxuICBjb250cmFjdFRyYWRpbmdFbmFibGVkOiB0cnVlLFxuICBtYXJrZXRTZXR0aW5nczogZGVmYXVsdE1hcmtldFNldHRpbmdzLFxuICBtYXJrZXRJbnRlcnZlbnRpb25zOiBbXSxcbiAgcmlza0NvbnRyb2w6IGRlZmF1bHRSaXNrQ29udHJvbFNldHRpbmdzLFxuICBzeXN0ZW1Nb25pdG9yaW5nOiBkZWZhdWx0U3lzdGVtTW9uaXRvcmluZ1NldHRpbmdzLFxuICBzeXN0ZW1WZXJzaW9uOiBcIjIuMC4wXCIsXG59O1xuXG4vLyDlop7lvLrnmoTml7bpl7TpgLvovpHlh73mlbBcbmNvbnN0IGlzVGltZUluUmFuZ2UgPSAoXG4gIGN1cnJlbnRUaW1lOiBEYXRlLFxuICBzdGFydFRpbWU6IHN0cmluZyxcbiAgZW5kVGltZTogc3RyaW5nXG4pOiBib29sZWFuID0+IHtcbiAgY29uc3QgY3VycmVudE1pbnV0ZXMgPSBjdXJyZW50VGltZS5nZXRIb3VycygpICogNjAgKyBjdXJyZW50VGltZS5nZXRNaW51dGVzKCk7XG4gIGNvbnN0IFtzdGFydEhvdXIsIHN0YXJ0TWluXSA9IHN0YXJ0VGltZS5zcGxpdChcIjpcIikubWFwKE51bWJlcik7XG4gIGNvbnN0IFtlbmRIb3VyLCBlbmRNaW5dID0gZW5kVGltZS5zcGxpdChcIjpcIikubWFwKE51bWJlcik7XG5cbiAgY29uc3Qgc3RhcnRNaW51dGVzID0gc3RhcnRIb3VyICogNjAgKyBzdGFydE1pbjtcbiAgY29uc3QgZW5kTWludXRlcyA9IGVuZEhvdXIgKiA2MCArIGVuZE1pbjtcblxuICAvLyDlpITnkIbot6jml6Xmg4XlhrUgKOS+i+WmgjogMjM6MDAgLSAwMTowMClcbiAgaWYgKHN0YXJ0TWludXRlcyA+IGVuZE1pbnV0ZXMpIHtcbiAgICByZXR1cm4gY3VycmVudE1pbnV0ZXMgPj0gc3RhcnRNaW51dGVzIHx8IGN1cnJlbnRNaW51dGVzIDw9IGVuZE1pbnV0ZXM7XG4gIH1cblxuICAvLyDmraPluLjmg4XlhrUgKOS+i+WmgjogMDk6MDAgLSAxNzowMClcbiAgcmV0dXJuIGN1cnJlbnRNaW51dGVzID49IHN0YXJ0TWludXRlcyAmJiBjdXJyZW50TWludXRlcyA8PSBlbmRNaW51dGVzO1xufTtcblxuY29uc3QgaXNEYXRlSW5SYW5nZSA9IChcbiAgY3VycmVudERhdGU6IERhdGUsXG4gIHN0YXJ0RGF0ZT86IHN0cmluZyxcbiAgZW5kRGF0ZT86IHN0cmluZ1xuKTogYm9vbGVhbiA9PiB7XG4gIGlmICghc3RhcnREYXRlICYmICFlbmREYXRlKSByZXR1cm4gdHJ1ZTtcblxuICBjb25zdCBjdXJyZW50ID0gY3VycmVudERhdGUudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG5cbiAgaWYgKHN0YXJ0RGF0ZSAmJiBjdXJyZW50IDwgc3RhcnREYXRlKSByZXR1cm4gZmFsc2U7XG4gIGlmIChlbmREYXRlICYmIGN1cnJlbnQgPiBlbmREYXRlKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBpc1JlY3VycmluZ0FjdGl2ZSA9IChcbiAgY3VycmVudERhdGU6IERhdGUsXG4gIHJlY3VycmluZz86IEVuaGFuY2VkTWFya2V0SW50ZXJ2ZW50aW9uW1wicmVjdXJyaW5nXCJdXG4pOiBib29sZWFuID0+IHtcbiAgaWYgKCFyZWN1cnJpbmcpIHJldHVybiB0cnVlO1xuXG4gIGNvbnN0IGN1cnJlbnREYXkgPSBjdXJyZW50RGF0ZS5nZXREYXkoKTsgLy8gMD1TdW5kYXksIDE9TW9uZGF5LCBldGMuXG5cbiAgc3dpdGNoIChyZWN1cnJpbmcudHlwZSkge1xuICAgIGNhc2UgXCJkYWlseVwiOlxuICAgICAgcmV0dXJuIHRydWU7IC8vIOavj+aXpemHjeWkjeaAu+aYr+a0u+i3g1xuICAgIGNhc2UgXCJ3ZWVrbHlcIjpcbiAgICAgIHJldHVybiAhcmVjdXJyaW5nLmRheXMgfHwgcmVjdXJyaW5nLmRheXMuaW5jbHVkZXMoY3VycmVudERheSk7XG4gICAgY2FzZSBcIm1vbnRobHlcIjpcbiAgICAgIC8vIOeugOWMlueahOaciOW6pumHjeWkjemAu+i+kVxuICAgICAgY29uc3QgY3VycmVudERheU9mTW9udGggPSBjdXJyZW50RGF0ZS5nZXREYXRlKCk7XG4gICAgICByZXR1cm4gIXJlY3VycmluZy5kYXlzIHx8IHJlY3VycmluZy5kYXlzLmluY2x1ZGVzKGN1cnJlbnREYXlPZk1vbnRoKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbmNvbnN0IEVuaGFuY2VkU3lzdGVtU2V0dGluZ3NDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxcbiAgRW5oYW5jZWRTeXN0ZW1TZXR0aW5nc0NvbnRleHRUeXBlIHwgdW5kZWZpbmVkXG4+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBFbmhhbmNlZFN5c3RlbVNldHRpbmdzUHJvdmlkZXIoe1xuICBjaGlsZHJlbixcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbn0pIHtcbiAgY29uc3QgeyBhZGRMb2cgfSA9IHVzZVNpbXBsZUVuaGFuY2VkTG9ncygpO1xuICBjb25zdCBbc3lzdGVtU2V0dGluZ3MsIHNldFN5c3RlbVNldHRpbmdzXSA9IHVzZVN0YXRlPEVuaGFuY2VkU3lzdGVtU2V0dGluZ3M+KFxuICAgIGRlZmF1bHRFbmhhbmNlZFN5c3RlbVNldHRpbmdzXG4gICk7XG4gIGNvbnN0IFtpc0xvYWRlZCwgc2V0SXNMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBjb25zdCB7IGFkZEF1ZGl0TG9nLCBhZGRMb2cgfSA9IHVzZUVuaGFuY2VkTG9ncygpOyAvLyDkuLTml7bms6jph4rpgb/lhY3lvqrnjq/kvp3otZZcblxuICAvLyDliqDovb3orr7nva5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkU2V0dGluZ3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTRVRUSU5HU19TVE9SQUdFX0tFWSk7XG4gICAgICBpZiAoc3RvcmVkU2V0dGluZ3MpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkU2V0dGluZ3MgPSBKU09OLnBhcnNlKHN0b3JlZFNldHRpbmdzKTtcbiAgICAgICAgc2V0U3lzdGVtU2V0dGluZ3MoKHByZXYpID0+ICh7XG4gICAgICAgICAgLi4uZGVmYXVsdEVuaGFuY2VkU3lzdGVtU2V0dGluZ3MsXG4gICAgICAgICAgLi4ucGFyc2VkU2V0dGluZ3MsXG4gICAgICAgICAgbWFya2V0U2V0dGluZ3M6IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRFbmhhbmNlZFN5c3RlbVNldHRpbmdzLm1hcmtldFNldHRpbmdzLFxuICAgICAgICAgICAgLi4uKHBhcnNlZFNldHRpbmdzLm1hcmtldFNldHRpbmdzIHx8IHt9KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlcG9zaXRBZGRyZXNzZXM6IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRFbmhhbmNlZFN5c3RlbVNldHRpbmdzLmRlcG9zaXRBZGRyZXNzZXMsXG4gICAgICAgICAgICAuLi4ocGFyc2VkU2V0dGluZ3MuZGVwb3NpdEFkZHJlc3NlcyB8fCB7fSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICByaXNrQ29udHJvbDoge1xuICAgICAgICAgICAgLi4uZGVmYXVsdEVuaGFuY2VkU3lzdGVtU2V0dGluZ3Mucmlza0NvbnRyb2wsXG4gICAgICAgICAgICAuLi4ocGFyc2VkU2V0dGluZ3Mucmlza0NvbnRyb2wgfHwge30pLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3lzdGVtTW9uaXRvcmluZzoge1xuICAgICAgICAgICAgLi4uZGVmYXVsdEVuaGFuY2VkU3lzdGVtU2V0dGluZ3Muc3lzdGVtTW9uaXRvcmluZyxcbiAgICAgICAgICAgIC4uLihwYXJzZWRTZXR0aW5ncy5zeXN0ZW1Nb25pdG9yaW5nIHx8IHt9KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1hcmtldEludGVydmVudGlvbnM6IHBhcnNlZFNldHRpbmdzLm1hcmtldEludGVydmVudGlvbnMgfHwgW10sXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJGYWlsZWQgdG8gbG9hZCBlbmhhbmNlZCBzeXN0ZW0gc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2VcIixcbiAgICAgICAgZXJyb3JcbiAgICAgICk7XG4gICAgfVxuICAgIHNldElzTG9hZGVkKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgLy8g5L+d5a2Y6K6+572uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzTG9hZGVkKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgICBTRVRUSU5HU19TVE9SQUdFX0tFWSxcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShzeXN0ZW1TZXR0aW5ncylcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJGYWlsZWQgdG8gc2F2ZSBlbmhhbmNlZCBzeXN0ZW0gc2V0dGluZ3MgdG8gbG9jYWxTdG9yYWdlXCIsXG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtzeXN0ZW1TZXR0aW5ncywgaXNMb2FkZWRdKTtcblxuICAvLyDln7rnoYDorr7nva7mm7TmlrDlh73mlbBcbiAgY29uc3QgdXBkYXRlRGVwb3NpdEFkZHJlc3MgPSB1c2VDYWxsYmFjayhcbiAgICAoXG4gICAgICBhc3NldDoga2V5b2YgRW5oYW5jZWRTeXN0ZW1TZXR0aW5nc1tcImRlcG9zaXRBZGRyZXNzZXNcIl0sXG4gICAgICB2YWx1ZTogc3RyaW5nXG4gICAgKSA9PiB7XG4gICAgICBzZXRTeXN0ZW1TZXR0aW5ncygocHJldlNldHRpbmdzKSA9PiAoe1xuICAgICAgICAuLi5wcmV2U2V0dGluZ3MsXG4gICAgICAgIGRlcG9zaXRBZGRyZXNzZXM6IHtcbiAgICAgICAgICAuLi5wcmV2U2V0dGluZ3MuZGVwb3NpdEFkZHJlc3NlcyxcbiAgICAgICAgICBbYXNzZXRdOiB2YWx1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pKTtcblxuICAgICAgLy8g5Li05pe25rOo6YeK5pel5b+X6K6w5b2V77yM6YG/5YWN5b6q546v5L6d6LWWXG4gICAgICBjb25zb2xlLmxvZyhgVXBkYXRlZCAke2Fzc2V0fSBkZXBvc2l0IGFkZHJlc3NgKTtcbiAgICB9LFxuICAgIFthZGRMb2ddXG4gICk7XG5cbiAgY29uc3QgdXBkYXRlU2V0dGluZyA9IHVzZUNhbGxiYWNrKFxuICAgIDxcbiAgICAgIEsgZXh0ZW5kcyBrZXlvZiBPbWl0PFxuICAgICAgICBFbmhhbmNlZFN5c3RlbVNldHRpbmdzLFxuICAgICAgICB8IFwibWFya2V0U2V0dGluZ3NcIlxuICAgICAgICB8IFwibWFya2V0SW50ZXJ2ZW50aW9uc1wiXG4gICAgICAgIHwgXCJyaXNrQ29udHJvbFwiXG4gICAgICAgIHwgXCJzeXN0ZW1Nb25pdG9yaW5nXCJcbiAgICAgID5cbiAgICA+KFxuICAgICAga2V5OiBLLFxuICAgICAgdmFsdWU6IEVuaGFuY2VkU3lzdGVtU2V0dGluZ3NbS11cbiAgICApID0+IHtcbiAgICAgIHNldFN5c3RlbVNldHRpbmdzKChwcmV2U2V0dGluZ3MpID0+ICh7XG4gICAgICAgIC4uLnByZXZTZXR0aW5ncyxcbiAgICAgICAgW2tleV06IHZhbHVlLFxuICAgICAgfSkpO1xuXG4gICAgICAvLyDkuLTml7bms6jph4rml6Xlv5forrDlvZXvvIzpgb/lhY3lvqrnjq/kvp3otZZcbiAgICAgIGNvbnNvbGUubG9nKGBVcGRhdGVkIHN5c3RlbSBzZXR0aW5nOiAke1N0cmluZyhrZXkpfWApO1xuICAgIH0sXG4gICAgW2FkZExvZ11cbiAgKTtcblxuICBjb25zdCB1cGRhdGVQYWlyU2V0dGluZ3MgPSB1c2VDYWxsYmFjayhcbiAgICAocGFpcjogc3RyaW5nLCBuZXdTZXR0aW5nczogUGFydGlhbDxFbmhhbmNlZFRyYWRpbmdQYWlyU2V0dGluZ3M+KSA9PiB7XG4gICAgICBzZXRTeXN0ZW1TZXR0aW5ncygocHJldikgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbWFya2V0U2V0dGluZ3M6IHtcbiAgICAgICAgICAuLi5wcmV2Lm1hcmtldFNldHRpbmdzLFxuICAgICAgICAgIFtwYWlyXToge1xuICAgICAgICAgICAgLi4uKHByZXYubWFya2V0U2V0dGluZ3NbcGFpcl0gfHwgZ2V0RGVmYXVsdFBhaXJTZXR0aW5ncygpKSxcbiAgICAgICAgICAgIC4uLm5ld1NldHRpbmdzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIOS4tOaXtuazqOmHiuaXpeW/l+iusOW9le+8jOmBv+WFjeW+queOr+S+nei1llxuICAgICAgY29uc29sZS5sb2coYFVwZGF0ZWQgdHJhZGluZyBwYWlyIHNldHRpbmdzIGZvciAke3BhaXJ9YCk7XG4gICAgfSxcbiAgICBbYWRkTG9nXVxuICApO1xuXG4gIGNvbnN0IHVwZGF0ZVJpc2tDb250cm9sU2V0dGluZ3MgPSB1c2VDYWxsYmFjayhcbiAgICAobmV3U2V0dGluZ3M6IFBhcnRpYWw8Umlza0NvbnRyb2xTZXR0aW5ncz4pID0+IHtcbiAgICAgIHNldFN5c3RlbVNldHRpbmdzKChwcmV2KSA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICByaXNrQ29udHJvbDoge1xuICAgICAgICAgIC4uLnByZXYucmlza0NvbnRyb2wsXG4gICAgICAgICAgLi4ubmV3U2V0dGluZ3MsXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIOS4tOaXtuazqOmHiuaXpeW/l+iusOW9le+8jOmBv+WFjeW+queOr+S+nei1llxuICAgICAgY29uc29sZS5sb2coXCJVcGRhdGVkIHJpc2sgY29udHJvbCBzZXR0aW5nc1wiKTtcbiAgICB9LFxuICAgIFthZGRMb2ddXG4gICk7XG5cbiAgY29uc3QgdXBkYXRlU3lzdGVtTW9uaXRvcmluZ1NldHRpbmdzID0gdXNlQ2FsbGJhY2soXG4gICAgKG5ld1NldHRpbmdzOiBQYXJ0aWFsPFN5c3RlbU1vbml0b3JpbmdTZXR0aW5ncz4pID0+IHtcbiAgICAgIHNldFN5c3RlbVNldHRpbmdzKChwcmV2KSA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBzeXN0ZW1Nb25pdG9yaW5nOiB7XG4gICAgICAgICAgLi4ucHJldi5zeXN0ZW1Nb25pdG9yaW5nLFxuICAgICAgICAgIC4uLm5ld1NldHRpbmdzLFxuICAgICAgICB9LFxuICAgICAgfSkpO1xuXG4gICAgICAvLyDkuLTml7bms6jph4rml6Xlv5forrDlvZXvvIzpgb/lhY3lvqrnjq/kvp3otZZcbiAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRlZCBzeXN0ZW0gbW9uaXRvcmluZyBzZXR0aW5nc1wiKTtcbiAgICB9LFxuICAgIFthZGRMb2ddXG4gICk7XG5cbiAgLy8g5aKe5by655qE5bmy6aKE566h55CGXG4gIGNvbnN0IGFkZE1hcmtldEludGVydmVudGlvbiA9IHVzZUNhbGxiYWNrKFxuICAgIChpbnRlcnZlbnRpb24/OiBQYXJ0aWFsPEVuaGFuY2VkTWFya2V0SW50ZXJ2ZW50aW9uPik6IHN0cmluZyA9PiB7XG4gICAgICBpZiAoc3lzdGVtU2V0dGluZ3MubWFya2V0SW50ZXJ2ZW50aW9ucy5sZW5ndGggPj0gMTApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWF4aW11bSBudW1iZXIgb2YgaW50ZXJ2ZW50aW9ucyAoMTApIHJlYWNoZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld0lkID0gYGludGVydmVudGlvbi0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKVxuICAgICAgICAudG9TdHJpbmcoMzYpXG4gICAgICAgIC5zdWJzdHIoMiwgOSl9YDtcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgICAgY29uc3QgbmV3SW50ZXJ2ZW50aW9uOiBFbmhhbmNlZE1hcmtldEludGVydmVudGlvbiA9IHtcbiAgICAgICAgaWQ6IG5ld0lkLFxuICAgICAgICB0cmFkaW5nUGFpcjogXCJCVEMvVVNEVFwiLFxuICAgICAgICBzdGFydFRpbWU6IFwiMTA6MDBcIixcbiAgICAgICAgZW5kVGltZTogXCIxMTowMFwiLFxuICAgICAgICBtaW5QcmljZTogMTEwMDAwLFxuICAgICAgICBtYXhQcmljZTogMTIwMDAwLFxuICAgICAgICB0cmVuZDogXCJyYW5kb21cIixcbiAgICAgICAgcHJpb3JpdHk6IDUsXG4gICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbjogXCJvdmVycmlkZVwiLFxuICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgIGNyZWF0ZWRCeTogXCJhZG1pblwiLFxuICAgICAgICBjcmVhdGVkQXQ6IG5vdyxcbiAgICAgICAgc21vb3RoVHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAzMDAwMCxcbiAgICAgICAgLi4uaW50ZXJ2ZW50aW9uLFxuICAgICAgfTtcblxuICAgICAgc2V0U3lzdGVtU2V0dGluZ3MoKHByZXYpID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIG1hcmtldEludGVydmVudGlvbnM6IFsuLi5wcmV2Lm1hcmtldEludGVydmVudGlvbnMsIG5ld0ludGVydmVudGlvbl0sXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIOS4tOaXtuazqOmHiuaXpeW/l+iusOW9le+8jOmBv+WFjeW+queOr+S+nei1llxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBDcmVhdGVkIG1hcmtldCBpbnRlcnZlbnRpb24gZm9yICR7bmV3SW50ZXJ2ZW50aW9uLnRyYWRpbmdQYWlyfWBcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBuZXdJZDtcbiAgICB9LFxuICAgIFtzeXN0ZW1TZXR0aW5ncy5tYXJrZXRJbnRlcnZlbnRpb25zLmxlbmd0aF1cbiAgKTtcblxuICBjb25zdCByZW1vdmVNYXJrZXRJbnRlcnZlbnRpb24gPSB1c2VDYWxsYmFjayhcbiAgICAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgaW50ZXJ2ZW50aW9uID0gc3lzdGVtU2V0dGluZ3MubWFya2V0SW50ZXJ2ZW50aW9ucy5maW5kKFxuICAgICAgICAoaSkgPT4gaS5pZCA9PT0gaWRcbiAgICAgICk7XG4gICAgICBpZiAoIWludGVydmVudGlvbikgcmV0dXJuO1xuXG4gICAgICBzZXRTeXN0ZW1TZXR0aW5ncygocHJldikgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbWFya2V0SW50ZXJ2ZW50aW9uczogcHJldi5tYXJrZXRJbnRlcnZlbnRpb25zLmZpbHRlcihcbiAgICAgICAgICAoaSkgPT4gaS5pZCAhPT0gaWRcbiAgICAgICAgKSxcbiAgICAgIH0pKTtcblxuICAgICAgLy8g5Li05pe25rOo6YeK5pel5b+X6K6w5b2V77yM6YG/5YWN5b6q546v5L6d6LWWXG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYERlbGV0ZWQgbWFya2V0IGludGVydmVudGlvbiBmb3IgJHtpbnRlcnZlbnRpb24udHJhZGluZ1BhaXJ9YFxuICAgICAgKTtcbiAgICB9LFxuICAgIFtzeXN0ZW1TZXR0aW5ncy5tYXJrZXRJbnRlcnZlbnRpb25zLCBhZGRMb2ddXG4gICk7XG5cbiAgY29uc3QgdXBkYXRlTWFya2V0SW50ZXJ2ZW50aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8RW5oYW5jZWRNYXJrZXRJbnRlcnZlbnRpb24+KSA9PiB7XG4gICAgICBjb25zdCBpbnRlcnZlbnRpb24gPSBzeXN0ZW1TZXR0aW5ncy5tYXJrZXRJbnRlcnZlbnRpb25zLmZpbmQoXG4gICAgICAgIChpKSA9PiBpLmlkID09PSBpZFxuICAgICAgKTtcbiAgICAgIGlmICghaW50ZXJ2ZW50aW9uKSByZXR1cm47XG5cbiAgICAgIHNldFN5c3RlbVNldHRpbmdzKChwcmV2KSA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBtYXJrZXRJbnRlcnZlbnRpb25zOiBwcmV2Lm1hcmtldEludGVydmVudGlvbnMubWFwKChpKSA9PlxuICAgICAgICAgIGkuaWQgPT09IGlkXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAuLi5pLFxuICAgICAgICAgICAgICAgIC4uLnVwZGF0ZXMsXG4gICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkQnk6IFwiYWRtaW5cIixcbiAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IGlcbiAgICAgICAgKSxcbiAgICAgIH0pKTtcblxuICAgICAgLy8g5Li05pe25rOo6YeK5pel5b+X6K6w5b2V77yM6YG/5YWN5b6q546v5L6d6LWWXG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYFVwZGF0ZWQgbWFya2V0IGludGVydmVudGlvbiBmb3IgJHtpbnRlcnZlbnRpb24udHJhZGluZ1BhaXJ9YFxuICAgICAgKTtcbiAgICB9LFxuICAgIFtzeXN0ZW1TZXR0aW5ncy5tYXJrZXRJbnRlcnZlbnRpb25zLCBhZGRMb2ddXG4gICk7XG5cbiAgY29uc3QgYWN0aXZhdGVJbnRlcnZlbnRpb24gPSB1c2VDYWxsYmFjayhcbiAgICAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgdXBkYXRlTWFya2V0SW50ZXJ2ZW50aW9uKGlkLCB7IGlzQWN0aXZlOiB0cnVlIH0pO1xuXG4gICAgICBhZGRMb2coe1xuICAgICAgICBlbnRpdHlfdHlwZTogXCJtYXJrZXRfaW50ZXJ2ZW50aW9uXCIsXG4gICAgICAgIGVudGl0eV9pZDogaWQsXG4gICAgICAgIGFjdGlvbjogXCJhY3RpdmF0ZVwiLFxuICAgICAgICBkZXRhaWxzOiBcIkFjdGl2YXRlZCBtYXJrZXQgaW50ZXJ2ZW50aW9uXCIsXG4gICAgICAgIHNldmVyaXR5OiBcImNyaXRpY2FsXCIsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFt1cGRhdGVNYXJrZXRJbnRlcnZlbnRpb24sIGFkZExvZ11cbiAgKTtcblxuICBjb25zdCBkZWFjdGl2YXRlSW50ZXJ2ZW50aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgIHVwZGF0ZU1hcmtldEludGVydmVudGlvbihpZCwgeyBpc0FjdGl2ZTogZmFsc2UgfSk7XG5cbiAgICAgIGFkZExvZyh7XG4gICAgICAgIGVudGl0eV90eXBlOiBcIm1hcmtldF9pbnRlcnZlbnRpb25cIixcbiAgICAgICAgZW50aXR5X2lkOiBpZCxcbiAgICAgICAgYWN0aW9uOiBcImRlYWN0aXZhdGVcIixcbiAgICAgICAgZGV0YWlsczogXCJEZWFjdGl2YXRlZCBtYXJrZXQgaW50ZXJ2ZW50aW9uXCIsXG4gICAgICAgIHNldmVyaXR5OiBcImhpZ2hcIixcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW3VwZGF0ZU1hcmtldEludGVydmVudGlvbiwgYWRkTG9nXVxuICApO1xuXG4gIC8vIOWinuW8uueahOaXtumXtOmAu+i+kemqjOivgVxuICBjb25zdCBpc0ludGVydmVudGlvbkFjdGl2ZU5vdyA9IHVzZUNhbGxiYWNrKFxuICAgIChpbnRlcnZlbnRpb246IEVuaGFuY2VkTWFya2V0SW50ZXJ2ZW50aW9uKTogYm9vbGVhbiA9PiB7XG4gICAgICBpZiAoIWludGVydmVudGlvbi5pc0FjdGl2ZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAvLyDmo4Dmn6Xml6XmnJ/ojIPlm7RcbiAgICAgIGlmICghaXNEYXRlSW5SYW5nZShub3csIGludGVydmVudGlvbi5zdGFydERhdGUsIGludGVydmVudGlvbi5lbmREYXRlKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAvLyDmo4Dmn6Xml7bpl7TojIPlm7RcbiAgICAgIGlmICghaXNUaW1lSW5SYW5nZShub3csIGludGVydmVudGlvbi5zdGFydFRpbWUsIGludGVydmVudGlvbi5lbmRUaW1lKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAvLyDmo4Dmn6Xph43lpI3mqKHlvI9cbiAgICAgIGlmICghaXNSZWN1cnJpbmdBY3RpdmUobm93LCBpbnRlcnZlbnRpb24ucmVjdXJyaW5nKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIFtdXG4gICk7XG5cbiAgY29uc3QgZ2V0QWN0aXZlSW50ZXJ2ZW50aW9ucyA9IHVzZUNhbGxiYWNrKFxuICAgICh0cmFkaW5nUGFpcj86IHN0cmluZyk6IEVuaGFuY2VkTWFya2V0SW50ZXJ2ZW50aW9uW10gPT4ge1xuICAgICAgbGV0IGFjdGl2ZUludGVydmVudGlvbnMgPSBzeXN0ZW1TZXR0aW5ncy5tYXJrZXRJbnRlcnZlbnRpb25zLmZpbHRlcihcbiAgICAgICAgaXNJbnRlcnZlbnRpb25BY3RpdmVOb3dcbiAgICAgICk7XG5cbiAgICAgIGlmICh0cmFkaW5nUGFpcikge1xuICAgICAgICBhY3RpdmVJbnRlcnZlbnRpb25zID0gYWN0aXZlSW50ZXJ2ZW50aW9ucy5maWx0ZXIoXG4gICAgICAgICAgKGkpID0+IGkudHJhZGluZ1BhaXIgPT09IHRyYWRpbmdQYWlyXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIOaMieS8mOWFiOe6p+aOkuW6j1xuICAgICAgcmV0dXJuIGFjdGl2ZUludGVydmVudGlvbnMuc29ydCgoYSwgYikgPT4gYi5wcmlvcml0eSAtIGEucHJpb3JpdHkpO1xuICAgIH0sXG4gICAgW3N5c3RlbVNldHRpbmdzLm1hcmtldEludGVydmVudGlvbnMsIGlzSW50ZXJ2ZW50aW9uQWN0aXZlTm93XVxuICApO1xuXG4gIGNvbnN0IHJlc29sdmVJbnRlcnZlbnRpb25Db25mbGljdHMgPSB1c2VDYWxsYmFjayhcbiAgICAoXG4gICAgICBpbnRlcnZlbnRpb25zOiBFbmhhbmNlZE1hcmtldEludGVydmVudGlvbltdXG4gICAgKTogRW5oYW5jZWRNYXJrZXRJbnRlcnZlbnRpb24gfCBudWxsID0+IHtcbiAgICAgIGlmIChpbnRlcnZlbnRpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoaW50ZXJ2ZW50aW9ucy5sZW5ndGggPT09IDEpIHJldHVybiBpbnRlcnZlbnRpb25zWzBdO1xuXG4gICAgICAvLyDmjInkvJjlhYjnuqfmjpLluo9cbiAgICAgIGNvbnN0IHNvcnRlZCA9IGludGVydmVudGlvbnMuc29ydCgoYSwgYikgPT4gYi5wcmlvcml0eSAtIGEucHJpb3JpdHkpO1xuICAgICAgY29uc3QgaGlnaGVzdCA9IHNvcnRlZFswXTtcblxuICAgICAgaWYgKGhpZ2hlc3QuY29uZmxpY3RSZXNvbHV0aW9uID09PSBcIm92ZXJyaWRlXCIpIHtcbiAgICAgICAgcmV0dXJuIGhpZ2hlc3Q7XG4gICAgICB9IGVsc2UgaWYgKGhpZ2hlc3QuY29uZmxpY3RSZXNvbHV0aW9uID09PSBcImJsZW5kXCIpIHtcbiAgICAgICAgLy8g5a6e546w5re35ZCI6YC76L6RIC0g6L+Z6YeM566A5YyW5Li66L+U5Zue5pyA6auY5LyY5YWI57qnXG4gICAgICAgIHJldHVybiBoaWdoZXN0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGlnaGVzdDtcbiAgICB9LFxuICAgIFtdXG4gICk7XG5cbiAgLy8g6aqM6K+B5Yqf6IO9XG4gIGNvbnN0IHZhbGlkYXRlSW50ZXJ2ZW50aW9uU2V0dGluZ3MgPSB1c2VDYWxsYmFjayhcbiAgICAoXG4gICAgICBpbnRlcnZlbnRpb246IFBhcnRpYWw8RW5oYW5jZWRNYXJrZXRJbnRlcnZlbnRpb24+XG4gICAgKTogeyB2YWxpZDogYm9vbGVhbjsgZXJyb3JzOiBzdHJpbmdbXSB9ID0+IHtcbiAgICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgaWYgKFxuICAgICAgICBpbnRlcnZlbnRpb24ubWluUHJpY2UgJiZcbiAgICAgICAgaW50ZXJ2ZW50aW9uLm1heFByaWNlICYmXG4gICAgICAgIGludGVydmVudGlvbi5taW5QcmljZSA+PSBpbnRlcnZlbnRpb24ubWF4UHJpY2VcbiAgICAgICkge1xuICAgICAgICBlcnJvcnMucHVzaChcIk1pbmltdW0gcHJpY2UgbXVzdCBiZSBsZXNzIHRoYW4gbWF4aW11bSBwcmljZVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBpbnRlcnZlbnRpb24ucHJpb3JpdHkgJiZcbiAgICAgICAgKGludGVydmVudGlvbi5wcmlvcml0eSA8IDEgfHwgaW50ZXJ2ZW50aW9uLnByaW9yaXR5ID4gMTApXG4gICAgICApIHtcbiAgICAgICAgZXJyb3JzLnB1c2goXCJQcmlvcml0eSBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMTBcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnRlcnZlbnRpb24uc3RhcnRUaW1lICYmIGludGVydmVudGlvbi5lbmRUaW1lKSB7XG4gICAgICAgIGNvbnN0IFtzdGFydEhvdXIsIHN0YXJ0TWluXSA9IGludGVydmVudGlvbi5zdGFydFRpbWVcbiAgICAgICAgICAuc3BsaXQoXCI6XCIpXG4gICAgICAgICAgLm1hcChOdW1iZXIpO1xuICAgICAgICBjb25zdCBbZW5kSG91ciwgZW5kTWluXSA9IGludGVydmVudGlvbi5lbmRUaW1lLnNwbGl0KFwiOlwiKS5tYXAoTnVtYmVyKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNOYU4oc3RhcnRIb3VyKSB8fFxuICAgICAgICAgIGlzTmFOKHN0YXJ0TWluKSB8fFxuICAgICAgICAgIGlzTmFOKGVuZEhvdXIpIHx8XG4gICAgICAgICAgaXNOYU4oZW5kTWluKVxuICAgICAgICApIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChcIkludmFsaWQgdGltZSBmb3JtYXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBpbnRlcnZlbnRpb24ubWF4UHJpY2VEZXZpYXRpb24gJiZcbiAgICAgICAgaW50ZXJ2ZW50aW9uLm1heFByaWNlRGV2aWF0aW9uID5cbiAgICAgICAgICBzeXN0ZW1TZXR0aW5ncy5yaXNrQ29udHJvbC5tYXhQcmljZURldmlhdGlvbkdsb2JhbFxuICAgICAgKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKFxuICAgICAgICAgIGBQcmljZSBkZXZpYXRpb24gZXhjZWVkcyBnbG9iYWwgbGltaXQgb2YgJHtcbiAgICAgICAgICAgIHN5c3RlbVNldHRpbmdzLnJpc2tDb250cm9sLm1heFByaWNlRGV2aWF0aW9uR2xvYmFsICogMTAwXG4gICAgICAgICAgfSVgXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IHZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLCBlcnJvcnMgfTtcbiAgICB9LFxuICAgIFtzeXN0ZW1TZXR0aW5ncy5yaXNrQ29udHJvbC5tYXhQcmljZURldmlhdGlvbkdsb2JhbF1cbiAgKTtcblxuICAvLyDlr7zlhaXlr7zlh7rlip/og71cbiAgY29uc3QgZXhwb3J0U2V0dGluZ3MgPSB1c2VDYWxsYmFjaygoKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3lzdGVtU2V0dGluZ3MsIG51bGwsIDIpO1xuICB9LCBbc3lzdGVtU2V0dGluZ3NdKTtcblxuICBjb25zdCBpbXBvcnRTZXR0aW5ncyA9IHVzZUNhbGxiYWNrKFxuICAgIChzZXR0aW5nc0pzb246IHN0cmluZyk6IHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBpbXBvcnRlZFNldHRpbmdzID0gSlNPTi5wYXJzZShzZXR0aW5nc0pzb24pO1xuXG4gICAgICAgIC8vIOWfuuacrOmqjOivgVxuICAgICAgICBpZiAoIWltcG9ydGVkU2V0dGluZ3Muc3lzdGVtVmVyc2lvbikge1xuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnZhbGlkIHNldHRpbmdzIGZvcm1hdFwiIH07XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTeXN0ZW1TZXR0aW5ncyh7XG4gICAgICAgICAgLi4uZGVmYXVsdEVuaGFuY2VkU3lzdGVtU2V0dGluZ3MsXG4gICAgICAgICAgLi4uaW1wb3J0ZWRTZXR0aW5ncyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWRkTG9nKHtcbiAgICAgICAgICBlbnRpdHlfdHlwZTogXCJzeXN0ZW1fc2V0dGluZ1wiLFxuICAgICAgICAgIGVudGl0eV9pZDogXCJpbXBvcnRcIixcbiAgICAgICAgICBhY3Rpb246IFwidXBkYXRlXCIsXG4gICAgICAgICAgZGV0YWlsczogXCJJbXBvcnRlZCBzeXN0ZW0gc2V0dGluZ3NcIixcbiAgICAgICAgICBzZXZlcml0eTogXCJjcml0aWNhbFwiLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIHRvIHBhcnNlIHNldHRpbmdzIEpTT05cIiB9O1xuICAgICAgfVxuICAgIH0sXG4gICAgW2FkZExvZ11cbiAgKTtcblxuICAvLyDlpIfku73lip/og71cbiAgY29uc3QgY3JlYXRlQmFja3VwID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGJhY2t1cERhdGEgPSB7XG4gICAgICAuLi5zeXN0ZW1TZXR0aW5ncyxcbiAgICAgIGJhY2t1cFRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH07XG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgIGAke1NFVFRJTkdTX1NUT1JBR0VfS0VZfV9iYWNrdXBgLFxuICAgICAgSlNPTi5zdHJpbmdpZnkoYmFja3VwRGF0YSlcbiAgICApO1xuXG4gICAgc2V0U3lzdGVtU2V0dGluZ3MoKHByZXYpID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgbGFzdEJhY2t1cFRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9KSk7XG5cbiAgICBhZGRMb2coe1xuICAgICAgZW50aXR5X3R5cGU6IFwic3lzdGVtX3NldHRpbmdcIixcbiAgICAgIGVudGl0eV9pZDogXCJiYWNrdXBcIixcbiAgICAgIGFjdGlvbjogXCJjcmVhdGVcIixcbiAgICAgIGRldGFpbHM6IFwiQ3JlYXRlZCBzeXN0ZW0gc2V0dGluZ3MgYmFja3VwXCIsXG4gICAgICBzZXZlcml0eTogXCJtZWRpdW1cIixcbiAgICB9KTtcbiAgfSwgW3N5c3RlbVNldHRpbmdzLCBhZGRMb2ddKTtcblxuICBjb25zdCByZXN0b3JlRnJvbUJhY2t1cCA9IHVzZUNhbGxiYWNrKFxuICAgIChiYWNrdXBEYXRhOiBzdHJpbmcpOiB7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0gPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmFja3VwID0gSlNPTi5wYXJzZShiYWNrdXBEYXRhKTtcblxuICAgICAgICBpZiAoIWJhY2t1cC5zeXN0ZW1WZXJzaW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkludmFsaWQgYmFja3VwIGZvcm1hdFwiIH07XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTeXN0ZW1TZXR0aW5ncyhiYWNrdXApO1xuXG4gICAgICAgIGFkZExvZyh7XG4gICAgICAgICAgZW50aXR5X3R5cGU6IFwic3lzdGVtX3NldHRpbmdcIixcbiAgICAgICAgICBlbnRpdHlfaWQ6IFwicmVzdG9yZVwiLFxuICAgICAgICAgIGFjdGlvbjogXCJ1cGRhdGVcIixcbiAgICAgICAgICBkZXRhaWxzOiBcIlJlc3RvcmVkIHN5c3RlbSBzZXR0aW5ncyBmcm9tIGJhY2t1cFwiLFxuICAgICAgICAgIHNldmVyaXR5OiBcImNyaXRpY2FsXCIsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gcmVzdG9yZSBmcm9tIGJhY2t1cFwiIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBbYWRkTG9nXVxuICApO1xuXG4gIGNvbnN0IHZhbHVlOiBFbmhhbmNlZFN5c3RlbVNldHRpbmdzQ29udGV4dFR5cGUgPSB7XG4gICAgc3lzdGVtU2V0dGluZ3MsXG4gICAgdXBkYXRlRGVwb3NpdEFkZHJlc3MsXG4gICAgdXBkYXRlU2V0dGluZyxcbiAgICB1cGRhdGVQYWlyU2V0dGluZ3MsXG4gICAgdXBkYXRlUmlza0NvbnRyb2xTZXR0aW5ncyxcbiAgICB1cGRhdGVTeXN0ZW1Nb25pdG9yaW5nU2V0dGluZ3MsXG4gICAgYWRkTWFya2V0SW50ZXJ2ZW50aW9uLFxuICAgIHJlbW92ZU1hcmtldEludGVydmVudGlvbixcbiAgICB1cGRhdGVNYXJrZXRJbnRlcnZlbnRpb24sXG4gICAgYWN0aXZhdGVJbnRlcnZlbnRpb24sXG4gICAgZGVhY3RpdmF0ZUludGVydmVudGlvbixcbiAgICBpc0ludGVydmVudGlvbkFjdGl2ZU5vdyxcbiAgICBnZXRBY3RpdmVJbnRlcnZlbnRpb25zLFxuICAgIHJlc29sdmVJbnRlcnZlbnRpb25Db25mbGljdHMsXG4gICAgdmFsaWRhdGVJbnRlcnZlbnRpb25TZXR0aW5ncyxcbiAgICBleHBvcnRTZXR0aW5ncyxcbiAgICBpbXBvcnRTZXR0aW5ncyxcbiAgICBjcmVhdGVCYWNrdXAsXG4gICAgcmVzdG9yZUZyb21CYWNrdXAsXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8RW5oYW5jZWRTeXN0ZW1TZXR0aW5nc0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0VuaGFuY2VkU3lzdGVtU2V0dGluZ3NDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlRW5oYW5jZWRTeXN0ZW1TZXR0aW5ncygpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoRW5oYW5jZWRTeXN0ZW1TZXR0aW5nc0NvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJ1c2VFbmhhbmNlZFN5c3RlbVNldHRpbmdzIG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gRW5oYW5jZWRTeXN0ZW1TZXR0aW5nc1Byb3ZpZGVyXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiYXZhaWxhYmxlUGFpcnMiLCJ1c2VTaW1wbGVFbmhhbmNlZExvZ3MiLCJTRVRUSU5HU19TVE9SQUdFX0tFWSIsImdldERlZmF1bHRQYWlyU2V0dGluZ3MiLCJpc1RyYWRpbmdIYWx0ZWQiLCJiYXNlUHJvZml0UmF0ZSIsIm1heERhaWx5Vm9sdW1lIiwicHJpY2VGbHVjdHVhdGlvbkxpbWl0IiwiZW1lcmdlbmN5U3RvcCIsImRlZmF1bHRSaXNrQ29udHJvbFNldHRpbmdzIiwibWF4SW50ZXJ2ZW50aW9uc1BlckRheSIsIm1heFByaWNlRGV2aWF0aW9uR2xvYmFsIiwiYXV0b1N0b3BMb3NzVGhyZXNob2xkIiwiYWxlcnRUaHJlc2hvbGRzIiwibGFyZ2VWb2x1bWVBbGVydCIsInJhcGlkUHJpY2VDaGFuZ2VBbGVydCIsInN5c3RlbUxvYWRBbGVydCIsImRlZmF1bHRTeXN0ZW1Nb25pdG9yaW5nU2V0dGluZ3MiLCJlbmFibGVSZWFsVGltZU1vbml0b3JpbmciLCJsb2dSZXRlbnRpb25EYXlzIiwicGVyZm9ybWFuY2VNZXRyaWNzRW5hYmxlZCIsImFsZXJ0Tm90aWZpY2F0aW9uc0VuYWJsZWQiLCJhdXRvQmFja3VwRW5hYmxlZCIsImJhY2t1cEludGVydmFsSG91cnMiLCJkZWZhdWx0TWFya2V0U2V0dGluZ3MiLCJyZWR1Y2UiLCJhY2MiLCJwYWlyIiwiZGVmYXVsdEVuaGFuY2VkU3lzdGVtU2V0dGluZ3MiLCJkZXBvc2l0QWRkcmVzc2VzIiwiVVNEVCIsIkVUSCIsIkJUQyIsIlVTRCIsImNvbnRyYWN0VHJhZGluZ0VuYWJsZWQiLCJtYXJrZXRTZXR0aW5ncyIsIm1hcmtldEludGVydmVudGlvbnMiLCJyaXNrQ29udHJvbCIsInN5c3RlbU1vbml0b3JpbmciLCJzeXN0ZW1WZXJzaW9uIiwiaXNUaW1lSW5SYW5nZSIsImN1cnJlbnRUaW1lIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImN1cnJlbnRNaW51dGVzIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwic3RhcnRIb3VyIiwic3RhcnRNaW4iLCJzcGxpdCIsIm1hcCIsIk51bWJlciIsImVuZEhvdXIiLCJlbmRNaW4iLCJzdGFydE1pbnV0ZXMiLCJlbmRNaW51dGVzIiwiaXNEYXRlSW5SYW5nZSIsImN1cnJlbnREYXRlIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImN1cnJlbnQiLCJ0b0lTT1N0cmluZyIsImlzUmVjdXJyaW5nQWN0aXZlIiwicmVjdXJyaW5nIiwiY3VycmVudERheSIsImdldERheSIsInR5cGUiLCJkYXlzIiwiaW5jbHVkZXMiLCJjdXJyZW50RGF5T2ZNb250aCIsImdldERhdGUiLCJFbmhhbmNlZFN5c3RlbVNldHRpbmdzQ29udGV4dCIsInVuZGVmaW5lZCIsIkVuaGFuY2VkU3lzdGVtU2V0dGluZ3NQcm92aWRlciIsImNoaWxkcmVuIiwiYWRkTG9nIiwic3lzdGVtU2V0dGluZ3MiLCJzZXRTeXN0ZW1TZXR0aW5ncyIsImlzTG9hZGVkIiwic2V0SXNMb2FkZWQiLCJzdG9yZWRTZXR0aW5ncyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWRTZXR0aW5ncyIsIkpTT04iLCJwYXJzZSIsInByZXYiLCJlcnJvciIsImNvbnNvbGUiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwidXBkYXRlRGVwb3NpdEFkZHJlc3MiLCJhc3NldCIsInZhbHVlIiwicHJldlNldHRpbmdzIiwibG9nIiwidXBkYXRlU2V0dGluZyIsImtleSIsIlN0cmluZyIsInVwZGF0ZVBhaXJTZXR0aW5ncyIsIm5ld1NldHRpbmdzIiwidXBkYXRlUmlza0NvbnRyb2xTZXR0aW5ncyIsInVwZGF0ZVN5c3RlbU1vbml0b3JpbmdTZXR0aW5ncyIsImFkZE1hcmtldEludGVydmVudGlvbiIsImludGVydmVudGlvbiIsImxlbmd0aCIsIkVycm9yIiwibmV3SWQiLCJNYXRoIiwiRGF0ZSIsIm5vdyIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwibmV3SW50ZXJ2ZW50aW9uIiwiaWQiLCJ0cmFkaW5nUGFpciIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJ0cmVuZCIsInByaW9yaXR5IiwiY29uZmxpY3RSZXNvbHV0aW9uIiwiaXNBY3RpdmUiLCJjcmVhdGVkQnkiLCJjcmVhdGVkQXQiLCJzbW9vdGhUcmFuc2l0aW9uIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwicmVtb3ZlTWFya2V0SW50ZXJ2ZW50aW9uIiwiZmluZCIsImkiLCJmaWx0ZXIiLCJ1cGRhdGVNYXJrZXRJbnRlcnZlbnRpb24iLCJ1cGRhdGVzIiwibGFzdE1vZGlmaWVkQnkiLCJsYXN0TW9kaWZpZWRBdCIsImFjdGl2YXRlSW50ZXJ2ZW50aW9uIiwiZW50aXR5X3R5cGUiLCJlbnRpdHlfaWQiLCJhY3Rpb24iLCJkZXRhaWxzIiwic2V2ZXJpdHkiLCJkZWFjdGl2YXRlSW50ZXJ2ZW50aW9uIiwiaXNJbnRlcnZlbnRpb25BY3RpdmVOb3ciLCJnZXRBY3RpdmVJbnRlcnZlbnRpb25zIiwiYWN0aXZlSW50ZXJ2ZW50aW9ucyIsInNvcnQiLCJhIiwiYiIsInJlc29sdmVJbnRlcnZlbnRpb25Db25mbGljdHMiLCJpbnRlcnZlbnRpb25zIiwic29ydGVkIiwiaGlnaGVzdCIsInZhbGlkYXRlSW50ZXJ2ZW50aW9uU2V0dGluZ3MiLCJlcnJvcnMiLCJwdXNoIiwiaXNOYU4iLCJtYXhQcmljZURldmlhdGlvbiIsInZhbGlkIiwiZXhwb3J0U2V0dGluZ3MiLCJpbXBvcnRTZXR0aW5ncyIsInNldHRpbmdzSnNvbiIsImltcG9ydGVkU2V0dGluZ3MiLCJzdWNjZXNzIiwiY3JlYXRlQmFja3VwIiwiYmFja3VwRGF0YSIsImJhY2t1cFRpbWVzdGFtcCIsImxhc3RCYWNrdXBUaW1lIiwicmVzdG9yZUZyb21CYWNrdXAiLCJiYWNrdXAiLCJQcm92aWRlciIsInVzZUVuaGFuY2VkU3lzdGVtU2V0dGluZ3MiLCJjb250ZXh0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/context/enhanced-system-settings-context.tsx\n"));

/***/ })

});